const slugify = (text) => {
  if (!text) return '';
  const a = 'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;'
  const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrssssssttuuuuuuuuuwxyyzzz------'
  const p = new RegExp(a.split('').join('|'), 'g')

  return text.toString().toLowerCase()
    .replace(/\s+/g, '-') // Replace spaces with -
    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters
    .replace(/&/g, '-and-') // Replace & with 'and'
    .replace(/[^\w-]+/g, '') // Remove all non-word chars
    .replace(/--+/g, '-') // Replace multiple - with single -
    .replace(/^-+/, '') // Trim - from start of text
    .replace(/-+$/, '') // Trim - from end of text
}

const collectionMapping = {
    "projects": "projekti",
    "practices": "prakse",
    "posts": "zapisi",
    "kinships": "sorodstva"
}

export const getSlug = (item, language, collection) => {
  // Always use Slovenian slug for URLs to maintain consistent Slovenian URL structure
  const slug = item.metadata[`slug_sl`] || item.metadata.slug || slugify(item.metadata.title);
  const slovenianCollection = collectionMapping[collection] || collection;
  return `/${slovenianCollection}/${slug}`;
};

export const translations = {
    sl: {
        fundedBy: 'Financirano s strani',
        molTitle: 'Mestna občina Ljubljana',
        molDept1: 'Oddelek za varstvo okolja',
        molDept2: 'Urad za mladino',
        navHome: 'Domov',
        navProjects: 'Prepletanja',
        navPractices: 'Utelešenja',
        navForOurKin: 'Sorodstva',
        navBiodiversity: 'Biodiverziteta',
        navGallery: 'Galerija',
        navCalendar: 'Koledar',
        navPosts: 'Zapisi',
        sensorDataTitle: 'livada.bio občuti zemljo',
        projectFutureDesc: 'V tem prepletanju ne merimo, temveč poslušamo šepet prsti, ki nam pripoveduje o vlagi, temperaturi in življenju pod površjem. Podatki se osvežujejo vsako uro.',
        biodiversityTitle: 'Barjanski travnik',
        biodiversityDesc: 'Dom številnih sorodnikov.',
        biodiversityDescription: 'Razišči zbirko s prebivalci Biotopa Livada. Večina opazovanj je nastala med rednimi srečanji in monitoringi, ki jih organiziramo na Livadi. Če bi v zbirki rada_ videla_ tudi svoje fotografije, se nam lahko pridružiš na monitoringu na Livadi in prispevaš svoja opažanja preko platforme iNaturalist. Vsa opažanja na tej mikrolokaciji (opremljena z geokoordinatami Biotopa Livada ali bližnje okolice) se samodejno vpišejo v naš namenski projekt na omenjeni plaformi.',
        practicesTitle: 'Prakse',
        practicesDesc: 'Skupnost za deljenje raznovrstnih praks.',
        calendarTitle: 'Koledar dogodkov',
        calendarDesc: 'Naši prihajajoči dogodki, delavnice in srečanja. Pridruži se nam on četrtkih in sobotah od marca do konca oktobra!',
        galleryPageDescription: 'Razišči galerije s fotografijami naših aktivnosti.',
        recentObservations: 'Nedavna opazovanja',
        loading: 'Nalagam',
        loadMore: 'Naloži dodatna',
        noMoreObservations: 'Ni več opazovanj.',
        fetchError: 'Napaka pri pridobivanju podatkov',
        dataUpdated: 'Podatki so osveženi',
        lastUpdated: 'Zadnja meritev',
        refreshData: 'Osveži podatke',
        noChartData: 'Ni dovolj podatkov za prikaz grafa.',
        noSensorData: 'Ni podatkov o senzorjih',
        noUpcomingEvents: 'Trenutno ni napovedanih dogodkov.',
        noEventsFound: 'Ni najdenih dogodkov v koledarju.',
        calendarFetchError: 'Napaka pri pridobivanju dogodkov iz koledarja.',
        openInGoogleCalendar: 'Odpri v Google Koledarju',
        moistureFlows: 'Vlaga v zraku in prsti',
        temperatureFlows: 'Temperatura zraka in prsti',
        time: 'Čas',
        temperature: 'temperatura',
        soilMoisture: 'vlaga v prsti',
        soilTemp: 'temperatura prsti',
        airTemp: 'temperatura zraka',
        airHumidity: 'vlaga v zraku',
        historicalSensorDataTitle: 'Beleženje',
        footerText: 'Biotop Livada – posebna pobuda v okviru zavoda BOB © 2025',
        photoBy: 'Foto',
        navMemoryGame: 'Spomin',
        memoryGameTitle: 'Spomin',
        moves: 'poteze',
        playAgain: 'nova igra',
        slovenian: 'SL',
        english: 'EN',
        latin: 'strokovna imena',
        close: 'Zapri',
        previous: 'Prejšnja',
        next: 'Naslednja',
        backToCollection: 'Nazaj na seznam',
        memoryGameDescription: 'V igri so uporabljeni posnetki, zbrani med rednimi monitoringi v Biotopu Livada, celotno zbirko lahko pogledaš na odseku biodiverziteta. Če bi v igri rada_ videla_ tudi svoje fotografije, se nam lahko pridružiš na monitoringu na Livadi in prispevaš svoja opažanja preko platforme iNaturalist. Vsa opažanja na tej mikrolokaciji (opremljena z geokoordinatami LivadaLAB ali bližnje okolice) se samodejno vpišejo v naš namenski projekt na omenjeni plaformi.',
        congratulations: 'Čestitamo!',
        yourScore: 'Tvoj rezultat:',
        enterName: 'Vpiši ime za lestvico:',
        submitScore: 'Shrani rezultat',
        hallOfFame: 'Lestvica najboljših',
        player: 'Bitje',
        score: 'Točke',
        newGame: 'Nova igra',
        noScores: 'Ni še rezultatov',
        date: 'Datum',
        beTheFirstToSubmitScore: 'Pošlji prvi rezultat!',
        leaderboardAutoInfo: 'Rezultati se samodejno shranijo.',
        leaderboardAutoSuccess: 'Tvoj rezultat je bil dodan na lestvico!',
        openInINaturalist: 'Odpri v iNaturalistu',
        openInWikipedia: 'Odpri v Wikipediji',
        loadingDescription: 'Nalagam opis...',
        openPortal: 'Razširi portal',
        closePortal: 'Zapri portal',
        noDescriptionFoundOnSlWikipedia: 'Nima opisa na slovenski Wikipediji.',
        postsTitle: 'Zapisi',
        postsDesc: 'Naši zapisi o livadi.',
        steps: 'Koraki',
        step: 'Korak',
        allTags: 'vse',
        victory: 'Zmaga!',
        victoryMessage: 'Uspešno si končal_ igro!',
        pridiNaMonitoring: 'Pridi na monitoring',
        findPair: 'Najdi par',
        bedTravnatiSestoj: 'travnati sestoj',
        bedSivkaInMelisa: 'sivka in melisa',
        bedBarjanskoRastje: 'barjansko rastje',
        bedCvetliceZaOprasevalce: 'cvetlice za opraševalce',
        bedMajaronInMelisa: 'majaron in melisa',
        bedTolscakInSlezenovec: 'tolščak in slezenovec',
        metrics: 'Metrike',
        hideAll: 'Skrij vse',
        showAll: 'Prikaži vse',
        bedFilters: 'Filtri za postajice',
        fetchingHistoricalData: 'Pridobivam zgodovinske podatke',
        // Graph interface translations
        last7Days: 'Zadnjih 7 dni',
        last30Days: 'Zadnjih 30 dni',
        last90Days: 'Zadnjih 90 dni',
        last6Months: 'Zadnjih 6 mesecev',
        customRange: 'Po meri',
        startDate: 'Začetni datum',
        endDate: 'Končni datum',
        days: 'dni',
        refresh: 'Osveži',
        apply: 'Uporabi',
        cancel: 'Prekliči',
        zoomIn: 'Približaj',
        zoomOut: 'Oddalji',
        panLeft: 'Premakni levo',
        panRight: 'Premakni desno',
        resetView: 'Ponastavi pogled',
        reset: 'Ponastavi',
        values: 'Vrednosti',
        noDataForSelectedPeriod: 'Ni podatkov za izbrano obdobje',
        soilMoistureFull: 'Vlaga v prsti',
        soilTemperatureFull: 'Temperatura prsti',
        airTemperatureFull: 'Temperatura zraka',
        airHumidityFull: 'Vlaga v zraku',
        raw: 'Surovi',
        // Bluesky translations
        followOnBluesky: 'Sledi nam na Bluesky',
        // Form translations
        contactFormTitle: 'Stik',
        contactFormDescription: 'Imaš vprašanje ali predlog?',
        nameLabel: 'Ime in priimek',
        emailLabel: 'E-pošta',
        messageLabel: 'Sporočilo',
        sendButton: 'Pošlji',
        forOurKinFormTitle: 'Kaj vse lahko človek podari travniku?',
        forOurKinFormDescription: 'S spodnjim obrazcem nam lahko posreduješ svoj predlog.',
        initiativeNameLabel: 'Naslov predloga',
        initiativeDescriptionLabel: 'Opis predloga',
        fullNameLabel: 'Ime in priimek',
        initiativeLink: 'Povezava do dodatne dokumentacije (ni obvezna)',
        // Form submission messages
        formSuccessMessage: 'Sporočilo je bilo uspešno poslano!',
        formErrorMessage: 'Prišlo je do napake pri pošiljanju sporočila. Prosimo, poskusi znova.',
        botFieldLabel: 'Ne izpolnite, če ste človek:',
        routes: {
            home: '', // Home path is just '/'
            projects: 'prepletanja',
            practices: 'utelesenja',
            kinships: 'sorodstva',
            biodiversity: 'biodiverziteta',
            gallery: 'galerija',
            calendar: 'koledar',
            posts: 'zapisi',
            memoryGame: 'spomin',
            leaderboard: 'lestvica',
        }
    },
    en: {
        navHome: 'Home',
        navProjects: 'Intertwinings',
        navPractices: 'Embodiments',
        navForOurKin: 'Kinships',
        navBiodiversity: 'Biodiversity',
        navGallery: 'Gallery',
        navCalendar: 'Calendar',
        navPosts: 'Writings',
        postsTitle: 'Writings',
        postsDesc: 'Journaling stories of more than human and soil.',
        steps: 'Steps',
        step: 'Step',
        allTags: 'All',
        sensorDataTitle: 'livada.bio senses the soil',
        projectFutureDesc: 'In this intertwining, we don\'t just measure; we listen to the whisper of the soil, which tells us stories of moisture, temperature, and life beneath the surface. Data is updated hourly.',
        biodiversityTitle: 'Wetlands meadow',
        biodiversityDesc: 'Home of our kin',
        biodiversityDescription: 'Explore the collection with the residents of the Livada Biotope. Most of the observations were made during regular meetings and monitoring sessions organised at the site. If you would like to see your photos in the collection, you can join us at the monitoring sessions and contribute your observations via the iNaturalist platform. All observations at this micro-location (equipped with the geocoordinates of the Livada Biotope or the surrounding area) are automatically entered into our dedicated project on the aforementioned platform.',
        practicesTitle: 'Practices',
        practicesDesc: 'Community for sharing of diverse practices',
        calendarTitle: 'Calendar of Events',
        calendarDesc: 'Our upcoming events, workshops, and gatherings. Join us on Thursdays and Saturdays afternoon from March to end of October!',
        galleryPageDescription: 'Explore galleries of our activities.',
        recentObservations: 'Recent Observations',
        loading: 'Loading',
        loadMore: 'Load More',
        noMoreObservations: 'No more observations.',
        fetchError: 'Error fetching data',
        dataUpdated: 'Data updated',
        lastUpdated: 'Last measurement',
        refreshData: 'Refresh Data',
        noChartData: 'Not enough data to display the chart.',
        noSensorData: 'No sensor data available',
        noUpcomingEvents: 'No upcoming events scheduled at this time.',
        noEventsFound: 'No events found in the calendar.',
        calendarFetchError: 'Error fetching events from calendar.',
        openInGoogleCalendar: 'Open in Google Calendar',
        moistureFlows: 'Moisture Flows',
        temperatureFlows: 'Temperature Flows',
        time: 'Time',
        temperature: 'Temperature',
        soilMoisture: 'soil moisture',
        soilTemp: 'soil temperature',
        airTemp: 'Air Temperature',
        airHumidity: 'Air Humidity',
        historicalSensorDataTitle: 'Data Collection',
        footerText: 'The Livada Biotope – special initiative within BOB Institute © 2025',
        photoBy: 'Photo',
        navMemoryGame: 'Game',
        memoryGameTitle: 'Memory Game',
        moves: 'Moves',
        playAgain: 'Play Again',
        slovenian: 'Slovenian',
        english: 'English',
        latin: 'Latin',
        close: 'Close',
        previous: 'Previous',
        next: 'Next',
        backToCollection: 'Back to collection',
        // Form translations
        contactFormTitle: 'Contact Form',
        contactFormDescription: 'Do you have a question or suggestion? Write to us!',
        nameLabel: 'Name',
        emailLabel: 'Email',
        messageLabel: 'Message',
        forOurKinFormTitle: 'What can a human give to the meadow?',
        forOurKinFormDescription: 'Would you like to contribute to Kinships? Fill out the form bellow.',
        initiativeNameLabel: 'Name of contribution',
        initiativeDescriptionLabel: 'Description of contribution',
        fullNameLabel: 'Full name',
        initiativeLink: 'Link to contribution documentation (optional)',
        sendButton: 'Send',
        // Form submission messages
        formSuccessMessage: 'Your message has been sent successfully!',
        formErrorMessage: 'An error occurred while sending the message. Please try again.',
        botFieldLabel: 'Don\'t fill this out if you\'re human:',
        memoryGameDescription: 'The Memory game uses images collected during regular monitoring in the Livada Biotope. You can view the entire collection in the biodiversity section. If you would like to see your photos in the game, you can join us in monitoring at Livada and contribute your observations via the iNaturalist platform. All observations in this microlocation (marked with the coordinates of LivadaLAB or its immediate vicinity) are automatically added into our dedicated project on the mentioned platform.',
        congratulations: 'Congratulations!',
        yourScore: 'Your score:',
        enterName: 'Enter name for leaderboard:',
        submitScore: 'Save Score',
        hallOfFame: 'Hall of Fame',
        player: 'Bitje',
        score: 'Točke',
        newGame: 'New Game',
        noScores: 'No scores yet',
        date: 'Date',
        beTheFirstToSubmitScore: 'Be the first to submit a score!',
        leaderboardAutoInfo: 'Scores are automatically saved and displayed without rebuilding the site.',
        leaderboardAutoSuccess: 'Your score has been automatically added to the leaderboard!',
        openInINaturalist: 'Open in iNaturalist',
        openInWikipedia: 'Odpri v Wikipediji',
        loadingDescription: 'Nalagam opis...',
        openPortal: 'Open Portal',
        closePortal: 'Close Portal',
        noDescriptionFoundOnSlWikipedia: 'Ni SL opisa na Wikipediji.',
        victory: 'Victory!',
        victoryMessage: 'You have successfully completed the game!',
        pridiNaMonitoring: 'Join the monitoring',
        findPair: 'Find a pair',
        bedTravnatiSestoj: 'grassy stand',
        bedSivkaInMelisa: 'lavender and lemon balm',
        bedBarjanskoRastje: 'marsh plants',
        bedCvetliceZaOprasevalce: 'flowers for pollinators',
        bedMajaronInMelisa: 'marjoram and lemon balm',
        bedTolscakInSlezenovec: 'purslane and mallow',
        metrics: 'Metrics',
        hideAll: 'Hide all',
        showAll: 'Show all',
        bedFilters: 'Bed filters',
        fetchingHistoricalData: 'Fetching historical data',
        // Graph interface translations
        last7Days: 'Last 7 days',
        last30Days: 'Last 30 days',
        last90Days: 'Last 90 days',
        last6Months: 'Last 6 months',
        customRange: 'Custom range',
        granularity: 'Granularity',
        startDate: 'Start date',
        endDate: 'End date',
        days: 'days',
        refresh: 'Refresh',
        raw: 'Raw',
        hourly: 'Hourly',
        daily: 'Daily',
        weekly: 'Weekly',
        monthly: 'Monthly',
        apply: 'Apply',
        cancel: 'Cancel',
        zoomIn: 'Zoom in',
        zoomOut: 'Zoom out',
        panLeft: 'Pan left',
        panRight: 'Pan right',
        resetView: 'Reset view',
        reset: 'Reset',
        export: 'Export',
        exportAsPNG: 'Export as PNG',
        exportAsJPG: 'Export as JPG',
        exportAsPDF: 'Export as PDF',
        exportAsCSV: 'Export as CSV',
        values: 'Values',
        exportingAs: 'Exporting as',
        noDataForSelectedPeriod: 'No data for selected period',
        soilMoistureFull: 'Soil moisture',
        soilTemperatureFull: 'Soil temperature',
        airTemperatureFull: 'Air temperature',
        airHumidityFull: 'Air humidity',
        // Bluesky translations
        followOnBluesky: 'Follow us on Bluesky',
        routes: {
            home: '', // Home path is just '/'
            projects: 'intertwinings',
            practices: 'embodiments',
            kinships: 'kinships',
            biodiversity: 'biodiversity',
            gallery: 'gallery',
            calendar: 'calendar',
            posts: 'writings',
            memoryGame: 'memory-game',
            leaderboard: 'leaderboard',
        }
    }
};
